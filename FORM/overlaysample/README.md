
# HTML Overlay Editor

A powerful React-based tool designed to visualize HTML content (specifically layouts generated by tools like `pdf2htmlEX`), overlay interactive zoning boxes, organize them into groups, and export the configuration for data extraction or form mapping workflows.

## üöÄ Features

### Core Functionality
*   **HTML Rendering**: Paste raw HTML code to render it within a zoomable, scrollable canvas.
*   **Zoning Tools**: Create draggable and resizable **Text Boxes** and **Checkboxes**.
*   **Auto-Scaling Text**: Text within boxes aligns to the left and automatically scales down to fit the box width, ensuring visibility without overflowing.
*   **Grouping**: Organize boxes into logical groups. Groups are color-coded for easy visual identification.

### Visual Controls
*   **Content Masking**: Toggle a "Mask Mode" that whitens the background and turns overlay text black, simulating a "fill-in-the-blanks" view.
*   **Snapping**: Intelligent snapping to align boxes with neighboring elements.
*   **Force Black Borders**: Override group colors to display all boxes with high-contrast black borders.
*   **Bottom Border Only**: A toggle to style text boxes as underlines (useful for form fields), while keeping checkboxes as full boxes.

### Productivity
*   **History**: Robust Undo/Redo functionality.
*   **Clipboard**: Copy and Paste boxes or entire groups (with relative positioning preserved).
*   **Keyboard Shortcuts**: Efficient hotkeys for common actions.
*   **Sidebar Navigation**: A layer tree view to select, rename, or reorganize items via drag-and-drop.

### Export & Import
*   **JSON Data**: Export coordinates, dimensions, and values to a structured JSON format.
*   **JSON Import**: Restore a previous session by pasting the JSON configuration.
*   **HTML Export**: Generate a self-contained HTML file with the overlays embedded and scripts for auto-resizing text.
*   **Image Export**: Download a high-resolution PNG screenshot of the current view.

---

## üõ†Ô∏è Installation & Setup

This project is built with **React** and **Vite**.

### Prerequisites
*   Node.js (v16 or higher)
*   npm or yarn

### Steps

1.  **Install Dependencies**
    Run the following command to install the necessary packages (React, Lucide Icons, html-to-image):
    ```bash
    npm install
    ```

2.  **Run Development Server**
    Start the local server:
    ```bash
    npm run dev
    ```

3.  **Open in Browser**
    Navigate to the URL provided in the terminal (usually `http://localhost:5173`).

---

## üìñ Usage Guide

### 1. Load Content
On the right sidebar, ensure the **HTML Input** tab is selected. Paste your HTML source code (e.g., an invoice or form) into the text area.

### 2. Create Zones
*   Click **+ Add Box** to create a standard text zone.
*   Click **+ Add Checkbox** to create a small checkbox zone.
*   **Drag** to move. **Resize** using the bottom-right handle.

### 3. Manage Groups
1.  Select one or more boxes.
2.  Click the **Folder (Group)** icon in the left sidebar header.
3.  The boxes will be wrapped in a colored group.
4.  You can rename groups and individual boxes in the left sidebar.

### 4. Styling
Use the toolbar in the top center to:
*   **Magnet Icon**: Toggle snapping.
*   **Eye Icon**: Toggle Content Mask (hide original background text).
*   **Moon Icon**: Force all borders to black.
*   **Underline Icon**: Switch text boxes to show only the bottom border (looks like a form line).

### 5. Export
*   **Generated Code Tab**: Copy the HTML string to embed the view elsewhere.
*   **JSON Output Tab**: Copy the JSON to save your work or process the coordinates programmatically.

---

## ‚å®Ô∏è Keyboard Shortcuts

| Key | Action |
| :--- | :--- |
| `Ctrl` + `C` | Copy selected boxes/groups |
| `Ctrl` + `V` | Paste from clipboard |
| `Ctrl` + `D` | Duplicate selection |
| `Ctrl` + `Z` | Undo |
| `Ctrl` + `Y` / `Shift`+`Z` | Redo |
| `Delete` / `Backspace` | Delete selected items |
| `Arrow Keys` | Nudge selection (Canvas) / Navigate list (Sidebar) |
| `Shift` + `Click` | Multi-select |
| `Ctrl` + `Scroll` | Zoom In/Out |

---

## üìÑ JSON Structure

The application exports data in the following format:

```json
{
  "maskContent": boolean,
  "bottomBorderOnly": boolean,
  "groups": [
    {
      "id": "string",
      "name": "string",
      "color": "hex_string",
      "boxes": [
        {
          "id": "string",
          "name": "string",
          "x": number,
          "y": number,
          "width": number,
          "height": number,
          "value": "string",
          "type": "text" | "checkbox"
        }
      ]
    }
  ],
  "ungrouped": [
    {
      "id": "string",
      "name": "string",
      "x": number,
      "y": number,
      "width": number,
      "height": number,
      "value": "string",
      "type": "text" | "checkbox"
    }
  ]
}
```

---

## üì¶ Dependencies

*   `react`: UI Framework
*   `lucide-react`: Icons
*   `html-to-image`: For taking screenshots of the canvas
*   `tailwindcss`: For styling (loaded via CDN or local config)
